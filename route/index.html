<!-- /route/index.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" href="/favicon.svg">

  <!-- Global CSS -->
  <link rel="stylesheet" href="/assets/site.css?v=3">
  <link rel="stylesheet" href="/assets/toc.css">

  <!-- DRY loader: enforces script order site-wide (theme → site-config → ids → header → toc → toc.global) -->
  <script type="module" src="/assets/boot.js"></script>

  <title>Route Finder • SamCiero</title>
</head>
<body data-page="route">
  <header>
    <nav></nav> <!-- header.js renders Home + tool links; inserts Contents + Theme -->
  </header>

  <div class="shell">
    <!-- TOC drawer mount (present on all pages; tools excluded by toc.global.js) -->
    <aside id="TOC" role="navigation" aria-label="Table of contents"></aside>

    <main id="content">
      <!-- Single anchored section: stable ID from ANCHOR_IDS.route.title -->
      <h2 id="route-finder" data-key="title">Route Finder</h2>

      <!-- Minimal tool UI -->
      <section id="panel" style="display:grid;gap:8px;align-content:start;max-width:420px">
        <label>Start <input id="start" placeholder="Town/Portal name"></label>
        <label>End <input id="end" placeholder="Town/Portal name"></label>
        <label>Mode
          <select id="mode">
            <option value="shortest">Shortest distance</option>
            <option value="fewest_hops">Fewest hops</option>
          </select>
        </label>
        <button id="go" type="button">Find route</button>
        <div id="stats" style="opacity:.8"></div>
      </section>

      <canvas id="map" width="1200" height="800"
              style="width:100%;max-height:70vh;background:#0b0b0b0d;margin-block:16px"></canvas>
    </main>
  </div>

  <footer>© <span id="y"></span> SamCiero</footer>
  <script>document.getElementById('y').textContent = new Date().getFullYear()</script>

  <!-- Route app bootstrap -->
  <script type="module" src="./app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      // bump ?v= when sw.js changes to force an update
      navigator.serviceWorker.register('./sw.js?v=1', { scope: './' }).catch(console.error);
    }
  </script>
</body>
</html>